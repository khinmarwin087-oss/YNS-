<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ— á€™á€¼á€„á€ºá€á€¬á€€á€¼á€€á€ºá€€á€„á€º POS</title>
    <link href="https://fonts.googleapis.com/css2?family=Pyidaungsu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #f59e0b; --danger: #ef4444; --bg: #f8fafc; }
        body { font-family: 'Pyidaungsu', sans-serif; background: var(--bg); margin: 0; padding-bottom: 80px; }
        
        .header { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 20px; text-align: center; border-radius: 0 0 20px 20px; }
        
        /* Menu Grid */
        .container { padding: 15px; max-width: 600px; margin: auto; }
        .menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .card { background: white; border-radius: 15px; overflow: hidden; border: 1px solid #eee; display: flex; flex-direction: column; }
        .card-img { width: 100%; height: 110px; object-fit: cover; background: #f1f5f9; }
        .card-info { padding: 10px; }
        .item-name { font-weight: 700; font-size: 14px; display: block; height: 40px; }
        .item-price { color: var(--danger); font-weight: bold; font-size: 13px; }
        
        .btn-add { width: 100%; padding: 8px; margin-top: 8px; border: none; background: #fff3e0; color: #e65100; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .btn-add:active { background: #ffe0b2; }

        /* Floating Cart Bar */
        .cart-bar { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 15px 20px; box-shadow: 0 -5px 20px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; z-index: 100; max-width: 600px; margin: auto; border-radius: 20px 20px 0 0; }
        .btn-view-cart { background: var(--primary); color: white; border: none; padding: 12px 20px; border-radius: 12px; font-weight: bold; cursor: pointer; }

        /* Full Screen Overlay (Cart & Checkout) */
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 200; backdrop-filter: blur(5px); overflow-y: auto; }
        .modal-sheet { background: white; min-height: 50vh; margin-top: 20vh; border-radius: 25px 25px 0 0; padding: 25px; position: relative; }
        
        /* Cart Item Design */
        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #eee; }
        .cart-qty-ctrl { display: flex; align-items: center; background: #f1f5f9; border-radius: 10px; padding: 3px; }
        .btn-op { width: 28px; height: 28px; border: none; background: white; border-radius: 6px; font-weight: bold; cursor: pointer; }
        .qty-num { width: 35px; text-align: center; font-weight: bold; border: none; background: transparent; }
        .btn-del { color: var(--danger); background: none; border: none; font-size: 18px; margin-left: 10px; cursor: pointer; }

        .form-group { margin-top: 20px; }
        input[type="text"], input[type="tel"], input[type="datetime-local"] { width: 100%; padding: 12px; margin-top: 8px; border: 1.5px solid #eee; border-radius: 10px; box-sizing: border-box; }
        
        .btn-confirm { width: 100%; padding: 15px; border-radius: 12px; border: none; color: white; font-weight: bold; margin-top: 10px; cursor: pointer; }
    </style>
</head>
<body>

<div class="header">
    <h2 style="margin:0;">ğŸ— á€™á€¼á€„á€ºá€á€¬á€€á€¼á€€á€ºá€€á€„á€º</h2>
</div>

<div class="container">
    <div id="menu-grid" class="menu-grid"></div>
</div>

<div class="cart-bar" id="cart-bar" style="display: none;">
    <div>
        <b id="cart-count">0</b> á€•á€…á€¹á€…á€Šá€ºá€¸áŠ á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸: <b id="cart-total">0</b> K
    </div>
    <button class="btn-view-cart" onclick="showCart()">á€á€¼á€„á€ºá€¸á€á€±á€¬á€„á€ºá€¸á€€á€¼á€Šá€·á€ºá€™á€Šá€º â”</button>
</div>

<div id="cart-modal" class="overlay">
    <div class="modal-sheet">
        <h3 style="margin-top:0;">ğŸ›’ á€›á€½á€±á€¸á€‘á€¬á€¸á€á€±á€¬á€•á€…á€¹á€…á€Šá€ºá€¸á€™á€»á€¬á€¸</h3>
        <div id="cart-items-list"></div>
        
        <div id="checkout-section" style="display: none;">
            <div class="form-group">
                <label style="font-size:12px; font-weight:bold; color:#666;">á€¡á€±á€¬á€ºá€’á€«á€á€„á€ºá€›á€”á€º á€¡á€á€»á€€á€ºá€¡á€œá€€á€ºá€–á€¼á€Šá€·á€ºá€•á€«</label>
                <input type="text" id="cust-name" placeholder="á€á€šá€ºá€á€°á€¡á€™á€Šá€º">
                <input type="tel" id="cust-phone" placeholder="á€–á€¯á€”á€ºá€¸á€”á€¶á€•á€«á€á€º">
                <input type="datetime-local" id="pickup-time">
            </div>
            <button class="btn-confirm" style="background:#7360f2;" onclick="sendOrder('viber')">ğŸŸ£ Viber á€–á€¼á€„á€·á€ºá€•á€­á€¯á€·á€™á€Šá€º</button>
            <button class="btn-confirm" style="background:#0088cc;" onclick="sendOrder('tele')">ğŸ”µ Telegram á€–á€¼á€„á€·á€ºá€•á€­á€¯á€·á€™á€Šá€º</button>
        </div>

        <button id="btn-next" class="btn-confirm" style="background:var(--primary);" onclick="showCheckoutForm()">á€”á€¬á€™á€Šá€ºá€–á€¼á€Šá€·á€ºá€™á€Šá€º â”</button>
        <button onclick="hideCart()" style="width:100%; border:none; background:none; color:#94a3b8; margin-top:15px;">á€•á€…á€¹á€…á€Šá€ºá€¸á€‘á€•á€ºá€›á€½á€±á€¸á€™á€Šá€º</button>
    </div>
</div>

<script>
    const MY_PHONE = "959767287345";
    const menuData = [
    { id: 1, name: 'á€€á€¼á€€á€ºá€•á€±á€«á€„á€º', price: 4000, category: 'á€¡á€á€¬á€¸', image: '' },
    { id: 2, name: 'á€€á€¼á€€á€ºá€›á€„á€ºá€¡á€¯á€¶', price: 4000, category: 'á€¡á€á€¬á€¸', image: '' },
    { id: 3, name: 'á€†á€­á€á€ºá€á€¬á€¸á€€á€„á€º', price: 1500, category: 'á€¡á€á€¬á€¸', image: 'https://i.ibb.co/twQjTScV/IMG-20251231-003231.png' },
    { id: 4, name: 'á€¡á€á€¬á€¸ á€á€»á€±á€¬á€„á€ºá€¸(á€€á€¼á€€á€º)', price: 800, category: 'á€¡á€á€¬á€¸', image: 'https://i.ibb.co/rRd5P91j/1767118697374.png' },
    { id: 5, name: 'á€¡á€›á€±á€á€½á€¶', price: 500, category: 'á€¡á€›á€±á€á€½á€¶', image: 'https://i.ibb.co/MkJqnDyG/1767147480724.png' },
    { id: 6, name: 'á€¡á€á€±á€¬á€„á€ºá€•á€»á€¶', price: 500, category: 'á€¡á€›á€­á€¯á€¸', image: 'https://i.ibb.co/rKJY26TM/1767147666947.png' },
    { id: 7, name: 'á€¡á€á€±á€¬á€„á€ºá€•á€»á€¶ (CP)', price: 1000, category: 'á€¡á€›á€­á€¯á€¸', image: '' },
    { id: 8, name: 'á€¡á€°', price: 500, category: 'á€€á€œá€®á€…á€¬', image: '' },
    { id: 9, name: 'á€á€±á€«á€„á€ºá€¸', price: 300, category: 'á€¡á€›á€­á€¯á€¸', image: '' },
    { id: 10, name: 'á€œá€Šá€º á€á€»á€±á€¬á€„á€ºá€¸', price: 300, category: 'á€¡á€›á€­á€¯á€¸', image: '' },
    { id: 11, name: 'á€¡á€á€Šá€ºá€¸á€™á€¼á€…á€º', price: 500, category: 'á€€á€œá€®á€…á€¬', image: 'https://i.ibb.co/twRsK5S7/1767147537379.png' },
    { id: 12, name: 'á€á€¼á€±á€‘á€±á€¬á€€á€º', price: 300, category: 'á€¡á€›á€­á€¯á€¸', image: '' },
    { id: 13, name: 'á€á€¼á€±á€‘á€±á€¬á€€á€º(CP)', price: 700, category: 'á€¡á€›á€­á€¯á€¸', image: '' },
    { id: 14, name: 'á€œá€€á€ºá€™á€±á€¬á€„á€ºá€¸á€œá€¯á€¶á€¸', price: 1000, category: 'á€¡á€á€¬á€¸', image: '' },
    { id: 15, name: 'á€¡á€†á€®á€•á€°á€¸', price: 800, category: 'á€¡á€›á€±á€á€½á€¶', image: 'https://i.ibb.co/PGcW9j6r/1767118749960.png' },
    { id: 16, name: 'á€¡á€á€¬á€¸á€á€¯', price: 400, category: 'á€¡á€á€®á€¸á€¡á€›á€½á€€á€º', image: '' },
    { id: 17, name: 'á€›á€¯á€¶á€¸á€•á€á€±á€á€®á€¸', price: 300, category: 'á€¡á€á€®á€¸á€¡á€›á€½á€€á€º', image: '' },
    { id: 18, name: 'á€¡á€•á€ºá€™á€¾á€­á€¯', price: 1000, category: 'á€¡á€á€®á€¸á€¡á€›á€½á€€á€º', image: '' },
    { id: 19, name: 'á€„á€¯á€¶á€¸á€¥', price: 1000, category: 'á€¥', image: '' }
];

    let cart = {};

    function renderMenu() {
        const grid = document.getElementById('menu-grid');
        grid.innerHTML = menuData.map(item => `
            <div class="card">
                ${item.image ? `<img src="${item.image}" class="card-img">` : `<div style="height:110px; background:#eee;"></div>`}
                <div class="card-info">
                    <span class="item-name">${item.name}</span>
                    <span class="item-price">${item.price} K</span>
                    <button class="btn-add" onclick="addToCart(${item.id})">+ á€‘á€Šá€·á€ºá€™á€Šá€º</button>
                </div>
            </div>
        `).join('');
    }

    function addToCart(id) {
        cart[id] = (cart[id] || 0) + 1;
        updateFloatingBar();
    }

    function updateFloatingBar() {
        let count = 0, total = 0;
        for (let id in cart) {
            count += cart[id];
            total += cart[id] * menuData.find(m => m.id == id).price;
        }
        document.getElementById('cart-bar').style.display = count > 0 ? 'flex' : 'none';
        document.getElementById('cart-count').innerText = count;
        document.getElementById('cart-total').innerText = total.toLocaleString();
    }

    function showCart() {
        const list = document.getElementById('cart-items-list');
        let html = '';
        let total = 0;

        for (let id in cart) {
            const item = menuData.find(m => m.id == id);
            total += item.price * cart[id];
            html += `
                <div class="cart-item">
                    <div style="flex:1;"><b>${item.name}</b><br><small>${item.price} K</small></div>
                    <div class="cart-qty-ctrl">
                        <button class="btn-op" onclick="updateQty(${id}, -1)">-</button>
                        <input type="number" class="qty-num" value="${cart[id]}" onchange="manualQty(${id}, this.value)">
                        <button class="btn-op" onclick="updateQty(${id}, 1)">+</button>
                    </div>
                    <button class="btn-del" onclick="deleteItem(${id})">ğŸ—‘ï¸</button>
                </div>`;
        }
        html += `<div style="text-align:right; padding: 15px 0;">á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸: <b style="font-size:18px; color:var(--danger);">${total.toLocaleString()} K</b></div>`;
        list.innerHTML = html;
        document.getElementById('cart-modal').style.display = 'block';
        document.getElementById('checkout-section').style.display = 'none';
        document.getElementById('btn-next').style.display = 'block';
    }

    function updateQty(id, delta) {
        cart[id] += delta;
        if (cart[id] <= 0) delete cart[id];
        showCart();
        updateFloatingBar();
        if (Object.keys(cart).length === 0) hideCart();
    }

    function manualQty(id, val) {
        let n = parseInt(val);
        if (n <= 0 || isNaN(n)) delete cart[id];
        else cart[id] = n;
        showCart();
        updateFloatingBar();
    }

    function deleteItem(id) {
        delete cart[id];
        showCart();
        updateFloatingBar();
        if (Object.keys(cart).length === 0) hideCart();
    }

    function showCheckoutForm() {
        document.getElementById('checkout-section').style.display = 'block';
        document.getElementById('btn-next').style.display = 'none';
    }

    function hideCart() { document.getElementById('cart-modal').style.display = 'none'; }

    function sendOrder(via) {
        const name = document.getElementById('cust-name').value;
        const phone = document.getElementById('cust-phone').value;
        const time = document.getElementById('pickup-time').value;
        if(!name || !phone || !time) return alert("á€¡á€á€»á€€á€ºá€¡á€œá€€á€ºá€–á€¼á€Šá€·á€ºá€•á€«á‹");

        let items = [];
        for(let id in cart) {
            const item = menuData.find(m => m.id == id);
            items.push(`â–ªï¸ ${item.name} (${cart[id]} á€á€¯)`);
        }
        const total = document.getElementById('cart-total').innerText;
        const msg = `ğŸ— *á€™á€¼á€„á€ºá€á€¬á€€á€¼á€€á€ºá€€á€„á€º - á€¡á€±á€¬á€ºá€’á€«*\nğŸ‘¤ *á€¡á€™á€Šá€º:* ${name}\nğŸ“ *á€–á€¯á€”á€ºá€¸:* ${phone}\nğŸ“… *á€œá€¬á€šá€°á€™á€Šá€º:* ${time}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\n${items.join('\n')}\n\nğŸ’° *á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸:* *${total} MMK*`;

        if(via === 'viber') {
            navigator.clipboard.writeText(msg).then(() => {
                alert("Copy á€šá€°á€•á€¼á€®á€¸á€•á€«á€•á€¼á€®á‹ Viber á€™á€¾á€¬ Paste á€œá€¯á€•á€ºá€•á€¼á€®á€¸ á€•á€­á€¯á€·á€•á€±á€¸á€•á€«á‹");
                window.location.href = `viber://contact?number=${MY_PHONE}`;
            });
        } else {
            window.location.href = `https://t.me/+${MY_PHONE}?text=${encodeURIComponent(msg)}`;
        }
    }

    window.onload = renderMenu;
</script>
</body>
</html>
